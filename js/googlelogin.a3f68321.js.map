{"version":3,"file":"js/googlelogin.a3f68321.js","mappings":"muJAgBA,MAAMA,EAAgBC,4EAGhBC,GAAaC,EAAAA,EAAAA,KAAI,GAEjBC,EAAQA,KAQV,GAPAC,QAAQC,IAAI,yBACZD,QAAQC,IAAI,mBAAoBN,GAChCK,QAAQC,IAAI,UAAWC,OAAOC,SAASC,QACvCJ,QAAQC,IAAI,aAAcC,OAAOC,SAASE,MAC1CL,QAAQC,IAAI,gBAAiBC,OAAOC,SAASC,OAAS,cACtDJ,QAAQC,IAAI,oCAEPN,EAKL,KACIW,EAAAA,EAAAA,IAAiBC,IACbP,QAAQC,IAAI,kBACZD,QAAQC,IAAI,iBAAkBM,EAAOC,UAAUC,OAAS,QAAU,SAGlE,MAAMC,EAASH,EAAOC,SAASC,OAAOE,eAAe,CACjDC,UAAWjB,EACXkB,MAAO,uBACPC,QAAS,QACTC,SAAWC,IACPhB,QAAQC,IAAI,aAAce,GACtBA,EAASC,MACTjB,QAAQC,IAAI,cAAee,EAASC,MACpCpB,EAAWqB,OAAQ,EACnBC,MAAM,YACCH,EAASI,QAChBpB,QAAQoB,MAAM,UAAWJ,EAASI,OAClCpB,QAAQoB,MAAM,SAAUJ,EAASK,mBACjCF,MAAM,gBAAkBH,EAASI,MAAQ,MAAQJ,EAASK,mBAAqB,SAK3FrB,QAAQC,IAAI,sBACZS,EAAOY,eAEf,CAAE,MAAOF,GACLpB,QAAQoB,MAAM,eAAgBA,GAC9BD,MAAM,wBAA0BC,EAAMG,QAC1C,MAlCIJ,MAAM,gCAyCRK,EAASA,KACXxB,QAAQC,IAAI,mBACZJ,EAAWqB,OAAQ,G,0BAxEnBO,EAAAA,EAAAA,IAQM,YALa5B,EAAAqB,O,4BAAfO,EAAAA,EAAAA,IAES,U,MAFmBC,QAAO3B,EAAO4B,MAAM,iB,cAC5CC,EAAAA,EAAAA,IAAyF,OAApFC,IAAAC,EAAgCC,IAAI,oBAAoBJ,MAAM,qB,aAGzD9B,EAAAqB,Q,WAAdO,EAAAA,EAAAA,IAA+E,U,MAApDC,QAAOF,EAAQG,MAAM,iBAAgB,Y,8BCFxE,MAAMK,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://vueportable/./src/views/GoogleLogin.vue","webpack://vueportable/./src/views/GoogleLogin.vue?1e98"],"sourcesContent":["<template>\n    <div>\n        <!-- 구글로그인 : loginvue24 -->\n        <!-- 로그인 버튼 -->\n        <button v-if=\"!isLoggedIn\" @click=\"login\" class=\"google-button\">\n            <img src=\"@/assets/google-login.png\" alt=\"Login with Google\" class=\"google-button-img\" />\n        </button>\n        <!-- 로그아웃 버튼 -->\n        <button v-if=\"isLoggedIn\" @click=\"logout\" class=\"logout-button\">Logout</button>\n    </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue'; // Vue의 반응형 변수 및 상태 관리를 위한 ref 함수\nimport { googleSdkLoaded } from 'vue3-google-login';\n\nconst oauthClientId = process.env.VUE_APP_OAUTH_CLIENT;\n\n// 로그인 상태를 관리하는 반응형 변수\nconst isLoggedIn = ref(false); //초기 로그아웃상태여야함\n\nconst login = () => {\n    console.log('=== 구글 로그인 디버깅 정보 ===');\n    console.log('OAuth Client ID:', oauthClientId);\n    console.log('현재 도메인:', window.location.origin);\n    console.log('현재 전체 URL:', window.location.href);\n    console.log('Redirect URI:', window.location.origin + '/vuelogin/');\n    console.log('================================');\n\n    if (!oauthClientId) {\n        alert('OAuth 클라이언트 ID가 설정되지 않았습니다.');\n        return;\n    }\n\n    try {\n        googleSdkLoaded((google) => {\n            console.log('Google SDK 로드됨');\n            console.log('Google SDK 버전:', google.accounts?.oauth2 ? '사용 가능' : '사용 불가');\n\n            // OAuth 2.0 클라이언트 초기화\n            const client = google.accounts.oauth2.initCodeClient({\n                client_id: oauthClientId,\n                scope: 'email profile openid',\n                ux_mode: 'popup', // 다시 팝업 모드로 변경\n                callback: (response) => {\n                    console.log('구글 로그인 응답:', response);\n                    if (response.code) {\n                        console.log('로그인 성공! 코드:', response.code);\n                        isLoggedIn.value = true;\n                        alert('로그인 성공!');\n                    } else if (response.error) {\n                        console.error('로그인 오류:', response.error);\n                        console.error('오류 설명:', response.error_description);\n                        alert('로그인에 실패했습니다: ' + response.error + '\\n' + (response.error_description || ''));\n                    }\n                }\n            });\n\n            console.log('OAuth 클라이언트 초기화 완료');\n            client.requestCode();\n        });\n    } catch (error) {\n        console.error('로그인 처리 중 오류:', error);\n        alert('로그인 처리 중 오류가 발생했습니다: ' + error.message);\n    }\n};\n\n/**\n * 로그아웃 처리\n * 로그인 상태를 초기화하고, 세션 정리 등 추가 작업을 수행합니다.\n */\nconst logout = () => {\n    console.log('User logged out');\n    isLoggedIn.value = false;\n};\n</script>\n<style scoped>\n.google-button {\n    background: none;\n    border: none;\n    cursor: pointer;\n    padding: 0;\n}\n\n.google-button-img {\n    width: 200px; /* 버튼 이미지 크기 */\n    height: auto;\n    display: block;\n}\n\n.google-button:hover {\n    opacity: 0.9; /* 마우스 오버 시 효과 */\n}\n\n.logout-button {\n    padding: 10px 20px;\n    background-color: #4285f4;\n    color: white;\n    border: none;\n    border-radius: 4px;\n    font-size: 16px;\n    cursor: pointer;\n}\n\n.logout-button:hover {\n    background-color: #357ae8; /* 마우스 오버 시 색상 변경 */\n}\n</style>\n","import script from \"./GoogleLogin.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GoogleLogin.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./GoogleLogin.vue?vue&type=style&index=0&id=72a0971e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-72a0971e\"]])\n\nexport default __exports__"],"names":["oauthClientId","process","isLoggedIn","ref","login","console","log","window","location","origin","href","googleSdkLoaded","google","accounts","oauth2","client","initCodeClient","client_id","scope","ux_mode","callback","response","code","value","alert","error","error_description","requestCode","message","logout","_createElementBlock","onClick","class","_createElementVNode","src","_imports_0","alt","__exports__"],"sourceRoot":""}