{"version":3,"file":"js/googlelogin.5769518d.js","mappings":"kyJAuBA,MAAMA,EAAgBC,2EAChBC,GAAaC,EAAAA,EAAAA,KAAI,GACjBC,GAAYD,EAAAA,EAAAA,IAAI,OAEtBE,EAAAA,EAAAA,IAAU,KAEND,EAAUE,MAAQ,CACdC,SAAUP,EACVQ,OAAQC,OAAOC,SAASF,OACxBG,WAAYF,OAAOC,SAASE,MAIhC,MAAMC,EAAY,IAAIC,gBAAgBL,OAAOC,SAASK,QAChDC,EAAOH,EAAUI,IAAI,QACrBC,EAAQL,EAAUI,IAAI,SAE5B,GAAID,EAAM,CACNG,QAAQC,IAAI,eAAgBJ,GAC5Bd,EAAWI,OAAQ,EACnBe,MAAM,WAGN,MAAMC,EAAWb,OAAOC,SAASF,OAASC,OAAOC,SAASa,SAC1Dd,OAAOe,QAAQC,aAAa,CAAC,EAAGC,SAASC,MAAOL,EACpD,MAAO,GAAIJ,EAAO,CACdC,QAAQD,MAAM,YAAaA,GAC3B,MAAMU,EAAmBf,EAAUI,IAAI,qBACvCI,MAAM,WAAaH,GAASU,EAAmB,KAAOA,EAAmB,KAGzE,MAAMN,EAAWb,OAAOC,SAASF,OAASC,OAAOC,SAASa,SAC1Dd,OAAOe,QAAQC,aAAa,CAAC,EAAGC,SAASC,MAAOL,EACpD,IAGJ,MAAMO,EAAQA,KAMV,GALAV,QAAQC,IAAI,oCACZD,QAAQC,IAAI,YAAapB,GACzBmB,QAAQC,IAAI,UAAWX,OAAOC,SAASF,QACvCW,QAAQC,IAAI,UAAWX,OAAOC,SAASE,OAElCZ,EAED,YADAqB,MAAM,+BAKV,MAAMS,EAAcC,mBAAmBtB,OAAOC,SAASF,OAAS,yBAC1DwB,EAAQD,mBAAmB,wBAC3BE,EAAe,OACfC,EAAQC,KAAKC,SAASC,SAAS,IAAIC,UAAU,EAAG,IAEhDC,EACF,0DAAavC,kBACG8B,WACPE,mBACQC,WACRC,uCAIbf,QAAQC,IAAI,oBAAqBmB,GAGjC9B,OAAOC,SAASE,KAAO2B,GAGrBC,EAASA,KACXrB,QAAQC,IAAI,QACZlB,EAAWI,OAAQ,G,0BA5FnBmC,EAAAA,EAAAA,IAgBM,YAbavC,EAAAI,O,4BAAfmC,EAAAA,EAAAA,IAES,U,MAFmBC,QAAOb,EAAOc,MAAM,iB,cAC5CC,EAAAA,EAAAA,IAAyF,OAApFC,IAAAC,EAAgCC,IAAI,oBAAoBJ,MAAM,qB,aAGzDzC,EAAAI,Q,WAAdmC,EAAAA,EAAAA,IAA+E,U,MAApDC,QAAOF,EAAQG,MAAM,iBAAgB,Y,eAGrDvC,EAAAE,Q,WAAXmC,EAAAA,EAAAA,IAKM,MALNO,EAKM,C,aAJFJ,EAAAA,EAAAA,IAAgB,UAAZ,WAAO,KACXA,EAAAA,EAAAA,IAAyC,SAAtC,cAAUK,EAAAA,EAAAA,IAAG7C,EAAAE,MAAUC,UAAQ,IAClCqC,EAAAA,EAAAA,IAAqC,SAAlC,YAAQK,EAAAA,EAAAA,IAAG7C,EAAAE,MAAUE,QAAM,IAC9BoC,EAAAA,EAAAA,IAAyC,SAAtC,YAAQK,EAAAA,EAAAA,IAAG7C,EAAAE,MAAUK,YAAU,O,8BCT9C,MAAMuC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://vueportable/./src/views/GoogleLogin.vue","webpack://vueportable/./src/views/GoogleLogin.vue?1e98"],"sourcesContent":["<template>\n    <div>\n        <!-- 구글로그인 : loginvue24 -->\n        <!-- 로그인 버튼 -->\n        <button v-if=\"!isLoggedIn\" @click=\"login\" class=\"google-button\">\n            <img src=\"@/assets/google-login.png\" alt=\"Login with Google\" class=\"google-button-img\" />\n        </button>\n        <!-- 로그아웃 버튼 -->\n        <button v-if=\"isLoggedIn\" @click=\"logout\" class=\"logout-button\">Logout</button>\n\n        <!-- 디버깅 정보 표시 -->\n        <div v-if=\"debugInfo\" class=\"debug-info\">\n            <h3>디버깅 정보:</h3>\n            <p>클라이언트 ID: {{ debugInfo.clientId }}</p>\n            <p>현재 도메인: {{ debugInfo.origin }}</p>\n            <p>현재 URL: {{ debugInfo.currentUrl }}</p>\n        </div>\n    </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue';\n\nconst oauthClientId = process.env.VUE_APP_OAUTH_CLIENT;\nconst isLoggedIn = ref(false);\nconst debugInfo = ref(null);\n\nonMounted(() => {\n    // 디버깅 정보 설정\n    debugInfo.value = {\n        clientId: oauthClientId,\n        origin: window.location.origin,\n        currentUrl: window.location.href\n    };\n    \n    // URL에서 OAuth 콜백 처리\n    const urlParams = new URLSearchParams(window.location.search);\n    const code = urlParams.get('code');\n    const error = urlParams.get('error');\n    \n    if (code) {\n        console.log('OAuth 코드 수신:', code);\n        isLoggedIn.value = true;\n        alert('로그인 성공!');\n        \n        // URL에서 쿼리 매개변수 제거\n        const cleanUrl = window.location.origin + window.location.pathname;\n        window.history.replaceState({}, document.title, cleanUrl);\n    } else if (error) {\n        console.error('OAuth 오류:', error);\n        const errorDescription = urlParams.get('error_description');\n        alert('로그인 실패: ' + error + (errorDescription ? '\\n' + errorDescription : ''));\n        \n        // URL에서 쿼리 매개변수 제거\n        const cleanUrl = window.location.origin + window.location.pathname;\n        window.history.replaceState({}, document.title, cleanUrl);\n    }\n});\n\nconst login = () => {\n    console.log('=== 구글 로그인 시도 (직접 OAuth URL) ===');\n    console.log('클라이언트 ID:', oauthClientId);\n    console.log('현재 도메인:', window.location.origin);\n    console.log('현재 URL:', window.location.href);\n\n    if (!oauthClientId) {\n        alert('OAuth 클라이언트 ID가 설정되지 않았습니다.');\n        return;\n    }\n\n    // 직접 Google OAuth URL로 리디렉션\n    const redirectUri = encodeURIComponent(window.location.origin + '/vuelogin/googlelogin');\n    const scope = encodeURIComponent('email profile openid');\n    const responseType = 'code';\n    const state = Math.random().toString(36).substring(2, 15);\n    \n    const googleAuthUrl = `https://accounts.google.com/o/oauth2/v2/auth?` +\n        `client_id=${oauthClientId}&` +\n        `redirect_uri=${redirectUri}&` +\n        `scope=${scope}&` +\n        `response_type=${responseType}&` +\n        `state=${state}&` +\n        `access_type=offline&` +\n        `prompt=consent`;\n\n    console.log('Google OAuth URL:', googleAuthUrl);\n    \n    // 현재 창에서 Google OAuth 페이지로 이동\n    window.location.href = googleAuthUrl;\n};\n\nconst logout = () => {\n    console.log('로그아웃');\n    isLoggedIn.value = false;\n};\n</script>\n<style scoped>\n.google-button {\n    background: none;\n    border: none;\n    cursor: pointer;\n    padding: 0;\n}\n\n.google-button-img {\n    width: 200px; /* 버튼 이미지 크기 */\n    height: auto;\n    display: block;\n}\n\n.google-button:hover {\n    opacity: 0.9; /* 마우스 오버 시 효과 */\n}\n\n.logout-button {\n    padding: 10px 20px;\n    background-color: #4285f4;\n    color: white;\n    border: none;\n    border-radius: 4px;\n    font-size: 16px;\n    cursor: pointer;\n}\n\n.logout-button:hover {\n    background-color: #357ae8; /* 마우스 오버 시 색상 변경 */\n}\n\n.debug-info {\n    margin-top: 20px;\n    padding: 15px;\n    background-color: #f5f5f5;\n    border-radius: 5px;\n    font-family: monospace;\n}\n\n.debug-info h3 {\n    margin-top: 0;\n    color: #333;\n}\n\n.debug-info p {\n    margin: 5px 0;\n    color: #666;\n}\n</style>\n","import script from \"./GoogleLogin.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GoogleLogin.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./GoogleLogin.vue?vue&type=style&index=0&id=9c0e6eec&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-9c0e6eec\"]])\n\nexport default __exports__"],"names":["oauthClientId","process","isLoggedIn","ref","debugInfo","onMounted","value","clientId","origin","window","location","currentUrl","href","urlParams","URLSearchParams","search","code","get","error","console","log","alert","cleanUrl","pathname","history","replaceState","document","title","errorDescription","login","redirectUri","encodeURIComponent","scope","responseType","state","Math","random","toString","substring","googleAuthUrl","logout","_createElementBlock","onClick","class","_createElementVNode","src","_imports_0","alt","_hoisted_1","_toDisplayString","__exports__"],"sourceRoot":""}