{"version":3,"file":"js/naverlogin.6939c65c.js","mappings":"8LAEaA,GAAG,gB,0CADZC,EAAAA,EAAAA,IAGM,YAF4BC,EAAAC,a,4BAA9BF,EAAAA,EAAAA,IAAiD,MAAjDG,IAC4CF,EAAAC,c,WAA5CF,EAAAA,EAAAA,IAAsE,U,MAA9DI,KAAK,SAAUC,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAC,QAAAD,EAAAC,UAAAF,KAA2B,U,iBAOjE,OACIG,IAAAA,GACI,MAAO,CACHC,WAAY,KACZT,YAAa,KAErB,EACAU,OAAAA,GACIC,KAAKC,4BACT,EACAC,QAAS,CACLD,0BAAAA,GACI,IAEI,MAAME,EAAgBC,OAAOC,SAASC,OAChCC,EAAc,GAAGJ,eACjBK,EAAWC,uBAEjBT,KAAKF,WAAa,IAAIM,OAAOM,MAAMC,iBAAiB,CAChDH,SAAUA,EACVD,YAAaA,EACbK,SAAS,EACTC,YAAa,CAAEC,MAAO,QAASvB,KAAM,EAAGwB,OAAQ,MAEpDf,KAAKF,WAAWkB,OAEhBhB,KAAKF,WAAWmB,eAAgBC,IACxBA,EACAlB,KAAKmB,mBAELC,QAAQC,IAAI,oBAGxB,CAAE,MAAOC,GACLF,QAAQE,MAAM,uBAAwBA,EAC1C,CACJ,EACAH,gBAAAA,GACSnB,KAAKF,WAIVE,KAAKF,WAAWmB,eAAgBC,IAC5B,GAAIA,EAAQ,CACR,MAAMK,EAAQvB,KAAKF,WAAW0B,KAAKC,WACnC,IAAKF,EAGD,OAFAG,MAAM,oCACN1B,KAAKF,WAAW6B,WAGpB3B,KAAKX,YAAcW,KAAKF,WAAWT,YAAYA,YAC/C+B,QAAQC,IAAI,UAAWE,EAC3B,MACIH,QAAQC,IAAI,2BAdhBD,QAAQE,MAAM,2BAiBtB,EACA1B,MAAAA,GACI,IAAKI,KAAKX,YAEN,YADA+B,QAAQC,IAAI,iBAIhB,MAAMO,EAAY,+HAA+H5B,KAAKX,qCAEhJwC,EAASC,SAASC,cAAc,UACtCF,EAAOG,MAAMC,QAAU,OACvBJ,EAAOK,IAAMN,EACbE,SAASK,KAAKC,YAAYP,GAE1B7B,KAAKX,YAAc,KAEnBW,KAAKqC,UAAU,KACXrC,KAAKC,+BAGTmB,QAAQC,IAAI,oBAChB,I,UClFR,MAAMiB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://vueportable/./src/views/NaverLogin.vue","webpack://vueportable/./src/views/NaverLogin.vue?7d99"],"sourcesContent":["<template>\n    <div>\n        <div id=\"naverIdLogin\" v-if=\"!accessToken\"></div>\n        <button type=\"button\" @click=\"logout\" v-if=\"accessToken\">로그아웃</button>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n    data() {\n        return {\n            naverLogin: null,\n            accessToken: null\n        };\n    },\n    mounted() {\n        this.initializeNaverLoginButton();\n    },\n    methods: {\n        initializeNaverLoginButton() {\n            try {\n                // 현재 도메인을 기반으로 callbackUrl 설정\n                const currentDomain = window.location.origin;\n                const callbackUrl = `${currentDomain}/naverlogin`;\n                const clientId = process.env.VUE_APP_NAVER_CLIENT_ID || 'auC8kDcoRx6AZ7q_uI6Z';\n                \n                this.naverLogin = new window.naver.LoginWithNaverId({\n                    clientId: clientId,\n                    callbackUrl: callbackUrl,\n                    isPopup: false,\n                    loginButton: { color: 'green', type: 3, height: 60 }\n                });\n                this.naverLogin.init();\n\n                this.naverLogin.getLoginStatus((status) => {\n                    if (status) {\n                        this.checkLoginStatus();\n                    } else {\n                        console.log('로그인되지 않은 상태입니다.');\n                    }\n                });\n            } catch (error) {\n                console.error('네이버 로그인 초기화 중 오류 발생:', error);\n            }\n        },\n        checkLoginStatus() {\n            if (!this.naverLogin) {\n                console.error('네이버 로그인 객체가 초기화되지 않았습니다.');\n                return;\n            }\n            this.naverLogin.getLoginStatus((status) => {\n                if (status) {\n                    const email = this.naverLogin.user.getEmail();\n                    if (!email) {\n                        alert('이메일은 필수정보입니다. 정보제공을 동의해주세요.');\n                        this.naverLogin.reprompt();\n                        return;\n                    }\n                    this.accessToken = this.naverLogin.accessToken.accessToken;\n                    console.log('로그인 성공!', email);\n                } else {\n                    console.log('callback 처리에 실패하였습니다.');\n                }\n            });\n        },\n        logout() {\n            if (!this.accessToken) {\n                console.log('로그인 상태가 아닙니다.');\n                return;\n            }\n\n            const logoutUrl = `https://nid.naver.com/oauth2.0/token?grant_type=delete&client_id=auC8kDcoRx6AZ7q_uI6Z&client_secret=FubU5cdFU2&access_token=${this.accessToken}&service_provider=NAVER`;\n\n            const iframe = document.createElement('iframe');\n            iframe.style.display = 'none';\n            iframe.src = logoutUrl;\n            document.body.appendChild(iframe);\n\n            this.accessToken = null;\n\n            this.$nextTick(() => {\n                this.initializeNaverLoginButton();\n            });\n\n            console.log('로그아웃 요청이 실행되었습니다.');\n        }\n    }\n};\n</script>\n","import { render } from \"./NaverLogin.vue?vue&type=template&id=585b637a\"\nimport script from \"./NaverLogin.vue?vue&type=script&lang=js\"\nexport * from \"./NaverLogin.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["id","_createElementBlock","$data","accessToken","_hoisted_1","type","onClick","_cache","args","$options","logout","data","naverLogin","mounted","this","initializeNaverLoginButton","methods","currentDomain","window","location","origin","callbackUrl","clientId","process","naver","LoginWithNaverId","isPopup","loginButton","color","height","init","getLoginStatus","status","checkLoginStatus","console","log","error","email","user","getEmail","alert","reprompt","logoutUrl","iframe","document","createElement","style","display","src","body","appendChild","$nextTick","__exports__","render"],"sourceRoot":""}