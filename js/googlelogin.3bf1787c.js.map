{"version":3,"file":"js/googlelogin.3bf1787c.js","mappings":"wtJAeA,MAAMA,EAAgBC,4EAChBC,GAAaC,EAAAA,EAAAA,KAAI,GACjBC,GAAgBD,EAAAA,EAAAA,IAAI,KAE1BE,EAAAA,EAAAA,IAAU,KACND,EAAcE,MAAQC,OAAOC,SAASC,OACtCC,QAAQC,IAAI,sBACZD,QAAQC,IAAI,YAAaX,GACzBU,QAAQC,IAAI,UAAWP,EAAcE,SAGzC,MAAMM,EAAQA,KAGV,GAFAF,QAAQC,IAAI,sBAEPX,EAED,YADAa,MAAM,+BAKV,MAAMC,EAAoBA,KACtB,GAAIP,OAAOQ,QAAUR,OAAOQ,OAAOC,UAAYT,OAAOQ,OAAOC,SAASC,OAAQ,CAC1EP,QAAQC,IAAI,oCAEZ,IAEI,MAAMO,EAASX,OAAOQ,OAAOC,SAASC,OAAOE,eAAe,CACxDC,UAAWpB,EACXqB,MAAO,uBACPC,QAAS,QACTC,SAAUC,IAGdd,QAAQC,IAAI,wBACZO,EAAOO,aACX,CAAE,MAAOC,GACLhB,QAAQgB,MAAM,wBAAyBA,GACvCb,MAAM,4BAA8Ba,EAAMC,QAC9C,CACJ,MACIjB,QAAQC,IAAI,yCACZiB,WAAWd,EAAmB,MAItCA,KAGEU,EAAsBK,IACxBnB,QAAQC,IAAI,qBACZD,QAAQC,IAAI,SAAUkB,GAElBA,EAASC,MACTpB,QAAQC,IAAI,gBAAiBkB,EAASC,MACtC5B,EAAWI,OAAQ,EACnBO,MAAM,YACCgB,EAASH,OAChBhB,QAAQgB,MAAM,YAAaG,EAASH,OACpChB,QAAQgB,MAAM,SAAUG,EAASE,mBACjClB,MACI,gBACIgB,EAASH,OACRG,EAASE,kBAAoB,KAAOF,EAASE,kBAAoB,OAG1ErB,QAAQgB,MAAM,eAAgBG,GAC9BhB,MAAM,uBAIRmB,EAASA,KACXtB,QAAQC,IAAI,gBACZT,EAAWI,OAAQ,EACnBO,MAAM,e,0BAvFNoB,EAAAA,EAAAA,IAQM,YALa/B,EAAAI,O,4BAAf2B,EAAAA,EAAAA,IAES,U,MAFmBC,QAAOtB,EAAOuB,MAAM,iB,cAC5CC,EAAAA,EAAAA,IAAyF,OAApFC,IAAAC,EAAgCC,IAAI,oBAAoBJ,MAAM,qB,aAGzDjC,EAAAI,Q,WAAd2B,EAAAA,EAAAA,IAA+E,U,MAApDC,QAAOF,EAAQG,MAAM,iBAAgB,Y,8BCFxE,MAAMK,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://vueportable/./src/views/GoogleLogin.vue","webpack://vueportable/./src/views/GoogleLogin.vue?1e98"],"sourcesContent":["<template>\n    <div>\n        <!-- 구글로그인 : loginvue24 -->\n        <!-- 로그인 버튼 -->\n        <button v-if=\"!isLoggedIn\" @click=\"login\" class=\"google-button\">\n            <img src=\"@/assets/google-login.png\" alt=\"Login with Google\" class=\"google-button-img\" />\n        </button>\n        <!-- 로그아웃 버튼 -->\n        <button v-if=\"isLoggedIn\" @click=\"logout\" class=\"logout-button\">Logout</button>\n    </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue';\n\nconst oauthClientId = process.env.VUE_APP_OAUTH_CLIENT;\nconst isLoggedIn = ref(false);\nconst currentDomain = ref('');\n\nonMounted(() => {\n    currentDomain.value = window.location.origin;\n    console.log('=== 구글 로그인 초기화 ===');\n    console.log('클라이언트 ID:', oauthClientId);\n    console.log('현재 도메인:', currentDomain.value);\n});\n\nconst login = () => {\n    console.log('=== 구글 로그인 시도 ===');\n\n    if (!oauthClientId) {\n        alert('OAuth 클라이언트 ID가 설정되지 않았습니다.');\n        return;\n    }\n\n    // Google Identity Services가 로드될 때까지 대기\n    const checkGoogleLoaded = () => {\n        if (window.google && window.google.accounts && window.google.accounts.oauth2) {\n            console.log('✅ Google Identity Services 로드 완료');\n\n            try {\n                // OAuth 2.0 클라이언트 초기화\n                const client = window.google.accounts.oauth2.initCodeClient({\n                    client_id: oauthClientId,\n                    scope: 'email profile openid',\n                    ux_mode: 'popup',\n                    callback: handleAuthResponse\n                });\n\n                console.log('✅ OAuth 클라이언트 초기화 완료');\n                client.requestCode();\n            } catch (error) {\n                console.error('❌ OAuth 클라이언트 초기화 오류:', error);\n                alert('OAuth 클라이언트 초기화에 실패했습니다: ' + error.message);\n            }\n        } else {\n            console.log('⏳ Google Identity Services 로드 대기 중...');\n            setTimeout(checkGoogleLoaded, 100);\n        }\n    };\n\n    checkGoogleLoaded();\n};\n\nconst handleAuthResponse = (response) => {\n    console.log('=== 구글 로그인 응답 ===');\n    console.log('전체 응답:', response);\n\n    if (response.code) {\n        console.log('✅ 로그인 성공! 코드:', response.code);\n        isLoggedIn.value = true;\n        alert('로그인 성공!');\n    } else if (response.error) {\n        console.error('❌ 로그인 오류:', response.error);\n        console.error('오류 설명:', response.error_description);\n        alert(\n            '로그인에 실패했습니다: ' +\n                response.error +\n                (response.error_description ? '\\n' + response.error_description : '')\n        );\n    } else {\n        console.error('❌ 알 수 없는 응답:', response);\n        alert('알 수 없는 응답을 받았습니다.');\n    }\n};\n\nconst logout = () => {\n    console.log('=== 로그아웃 ===');\n    isLoggedIn.value = false;\n    alert('로그아웃되었습니다.');\n};\n</script>\n<style scoped>\n.google-button {\n    background: none;\n    border: none;\n    cursor: pointer;\n    padding: 0;\n    margin-bottom: 20px;\n}\n\n.google-button-img {\n    width: 200px;\n    height: auto;\n    display: block;\n}\n\n.google-button:hover {\n    opacity: 0.9;\n}\n\n.logout-button {\n    padding: 10px 20px;\n    background-color: #4285f4;\n    color: white;\n    border: none;\n    border-radius: 4px;\n    font-size: 16px;\n    cursor: pointer;\n    margin-bottom: 20px;\n}\n\n.logout-button:hover {\n    background-color: #357ae8;\n}\n</style>\n","import script from \"./GoogleLogin.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GoogleLogin.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./GoogleLogin.vue?vue&type=style&index=0&id=c5e9641a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c5e9641a\"]])\n\nexport default __exports__"],"names":["oauthClientId","process","isLoggedIn","ref","currentDomain","onMounted","value","window","location","origin","console","log","login","alert","checkGoogleLoaded","google","accounts","oauth2","client","initCodeClient","client_id","scope","ux_mode","callback","handleAuthResponse","requestCode","error","message","setTimeout","response","code","error_description","logout","_createElementBlock","onClick","class","_createElementVNode","src","_imports_0","alt","__exports__"],"sourceRoot":""}